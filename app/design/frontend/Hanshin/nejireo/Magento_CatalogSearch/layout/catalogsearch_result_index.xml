<?xml version="1.0"?>
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" layout="1column" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <head>
        <css src="Plumrocket_ProductFilter::css/filter.css" />
    </head>
    <body>
        <referenceContainer name="main.content">
        <block class="Magento\Framework\View\Element\Template" name="hs.top.search" as="topSearch" template="Magento_Search::form.mini.phtml" before="page.wrapper.hs" />
        </referenceContainer>
        <referenceBlock name="catalogsearch.leftnav">
            <action ifconfig="prproductfilter/general/enabled" method="setTemplate">
                <argument name="template" xsi:type="string">Plumrocket_ProductFilter::layer/view.phtml</argument>
            </action>

            <referenceBlock name="catalogsearch.navigation.renderer">
                <action ifconfig="prproductfilter/general/enabled" method="setTemplate">
                    <argument name="template" xsi:type="string">Plumrocket_ProductFilter::layer/filter.phtml</argument>
                </action>
            </referenceBlock>
        </referenceBlock>
        <referenceBlock name="product_list_toolbar">
            <block class="Plumrocket\ProductFilter\Block\Html\Pager" name="product_list_toolbar_pager"/>
        </referenceBlock>
        <referenceBlock name="search_result_list">
            <container name="category.product.list.additional" as="additional" />
        </referenceBlock>
        <container name="div.content.container" htmlTag="div" htmlClass="container" after="main.content">
        </container>
        <move element="div.content.container" destination="main.content" before="-" />
        <move element="page.main.title" destination="div.content.container" before="-" />
        <referenceBlock name="div.sidebar.main" remove="true" />
        <referenceBlock name="div.sidebar.additional" remove="true" />
        <referenceBlock name="catalogsearch.compare.sidebar" remove="true"/>
        <referenceBlock name="catalogsearch.product.addto.compare" remove="true" />
        <referenceBlock name="wishlist_sidebar" remove="true"/>
        <referenceContainer name="columns" htmlTag="div" htmlClass="columns categories-list-all" />
    </body>
</page>
